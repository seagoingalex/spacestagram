{"ast":null,"code":"import _slicedToArray from\"/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import Popover from'@material-ui/core/Popover';import Typography from'@material-ui/core/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}},typography:{padding:theme.spacing(2),color:\"black\"}};});function NewApodForm(_ref){var currentProfile=_ref.currentProfile,isLoggedIn=_ref.isLoggedIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),apodTitle=_useState2[0],setApodTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),apodImage=_useState4[0],setApodImage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),apodExplanation=_useState6[0],setApodExplanation=_useState6[1];var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorLa=_React$useState4[0],setAnchorLa=_React$useState4[1];var classes=useStyles();var history=useHistory();function handleApodTitleInput(e){setApodTitle(e.target.value);}function handleApodImageInput(e){setApodImage(e.target.value);}function handleApodExplanationInput(e){setApodExplanation(e.target.value);}function apodFormSubmit(e){e.preventDefault();if(isLoggedIn&&apodTitle&&apodImage&&apodExplanation){var today=new Date();var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');var yyyy=today.getFullYear();today=yyyy+'-'+mm+'-'+dd;var newApod={title:apodTitle,url:apodImage,explanation:apodExplanation,userId:currentProfile,date:today};fetch(\"http://localhost:3001/teamMember\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newApod)});// Still working out issue with pushing users to profile before the form-entered image gets POST'd.\n// history.push(\"/profile\")\nhistory.push(\"/\");}else if(!isLoggedIn){setAnchorEl(e.currentTarget);}else if(!apodTitle||!apodImage||!apodExplanation){setAnchorLa(e.currentTarget);}}var handleClose=function handleClose(){setAnchorEl(null);setAnchorLa(null);};var open=Boolean(anchorEl);var submitId=open?'simple-popover':undefined;var open2=Boolean(anchorLa);var textFieldId=open2?'simple-popover':undefined;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-div\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{className:\"black-font\",children:\"Add your own space photography!\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,onSubmit:function onSubmit(e){return apodFormSubmit(e);},children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",value:apodTitle,onChange:handleApodTitleInput,type:\"text\",placeholder:\"Image title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",value:apodImage,onChange:handleApodImageInput,type:\"text\",placeholder:\"Image URL\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",value:apodExplanation,onChange:handleApodExplanationInput,type:\"text\",placeholder:\"Tell us about your image\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Add hero\",children:\"Add Custom Favorite\"})]})]}),/*#__PURE__*/_jsx(Popover,{id:submitId,open:open,anchorEl:anchorEl,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'},children:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:\"You must be signed in to create a new galactic image!\"})}),/*#__PURE__*/_jsx(Popover,{id:textFieldId,open:open2,anchorEl:anchorLa,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'},children:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:\"Please make sure you have filled in all blank fields\"})})]});}export default NewApodForm;","map":{"version":3,"sources":["/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/src/components/NewApodForm.js"],"names":["React","useState","useHistory","makeStyles","TextField","Popover","Typography","useStyles","theme","root","margin","spacing","width","typography","padding","color","NewApodForm","currentProfile","isLoggedIn","apodTitle","setApodTitle","apodImage","setApodImage","apodExplanation","setApodExplanation","anchorEl","setAnchorEl","anchorLa","setAnchorLa","classes","history","handleApodTitleInput","e","target","value","handleApodImageInput","handleApodExplanationInput","apodFormSubmit","preventDefault","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","newApod","title","url","explanation","userId","date","fetch","method","headers","body","JSON","stringify","push","currentTarget","handleClose","open","Boolean","submitId","undefined","open2","textFieldId","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n    typography: {\n        padding: theme.spacing(2),\n        color: \"black\"\n      },\n  }));\n\nfunction NewApodForm({ currentProfile, isLoggedIn }) {\n    const [apodTitle, setApodTitle] = useState(\"\")\n    const [apodImage, setApodImage] = useState(\"\")\n    const [apodExplanation, setApodExplanation] = useState(\"\")\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [anchorLa, setAnchorLa] = React.useState(null);\n\n    const classes = useStyles();\n\n    let history = useHistory();\n\n    function handleApodTitleInput(e) {\n      setApodTitle(e.target.value)\n    }\n\n    function handleApodImageInput(e) {\n      setApodImage(e.target.value)\n    }\n\n    function handleApodExplanationInput(e) {\n      setApodExplanation(e.target.value)\n    }\n\n    function apodFormSubmit(e) {\n        e.preventDefault();\n        if (isLoggedIn && apodTitle && apodImage && apodExplanation) {\n        \n        let today = new Date();  \n        let dd = String(today.getDate()).padStart(2, '0');\n        let mm = String(today.getMonth() + 1).padStart(2, '0');\n        let yyyy = today.getFullYear();\n          \n        today = yyyy + '-' + mm + '-' + dd;\n        const newApod = {\n            title: apodTitle,\n            url: apodImage,\n            explanation: apodExplanation,\n            userId: currentProfile,\n            date: today\n        }\n        fetch(\"http://localhost:3001/teamMember\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newApod)\n        })\n        // Still working out issue with pushing users to profile before the form-entered image gets POST'd.\n        // history.push(\"/profile\")\n        history.push(\"/\")\n        } else if (!isLoggedIn) {\n            setAnchorEl(e.currentTarget)\n        } else if (!apodTitle || !apodImage || !apodExplanation) {\n            setAnchorLa(e.currentTarget)\n        }\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null);\n        setAnchorLa(null)\n      };\n\n      const open = Boolean(anchorEl);\n      const submitId = open ? 'simple-popover' : undefined;\n      const open2 = Boolean(anchorLa);\n      const textFieldId = open2 ? 'simple-popover' : undefined;\n\n  return (\n    <>\n    <div className=\"form-div\">\n        <br></br>\n        <h1 className=\"black-font\">Add your own space photography!</h1>\n        <form className={classes.root} onSubmit={(e) => apodFormSubmit(e)}>\n            <TextField id=\"outlined-basic\" value={apodTitle} onChange={handleApodTitleInput} type=\"text\" placeholder=\"Image title\"/><br/>\n            <TextField id=\"outlined-basic\" value={apodImage} onChange={handleApodImageInput} type=\"text\" placeholder=\"Image URL\"/> <br/>\n            <TextField id=\"outlined-basic\" value={apodExplanation} onChange={handleApodExplanationInput} type=\"text\" placeholder=\"Tell us about your image\"/> <br/>\n        \n            <button type=\"submit\" value=\"Add hero\">Add Custom Favorite</button>\n        </form>\n    </div>\n    <Popover\n        id={submitId}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Typography className={classes.typography}>You must be signed in to create a new galactic image!</Typography>\n      </Popover>\n      <Popover\n        id={textFieldId}\n        open={open2}\n        anchorEl={anchorLa}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Typography className={classes.typography}>Please make sure you have filled in all blank fields</Typography>\n      </Popover>\n    </>\n  );\n}\n\nexport default NewApodForm;"]},"metadata":{},"sourceType":"module"}