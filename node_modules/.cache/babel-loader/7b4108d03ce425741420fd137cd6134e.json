{"ast":null,"code":"import _slicedToArray from\"/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory,useParams}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import Popover from'@material-ui/core/Popover';import Typography from'@material-ui/core/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{typography:{padding:theme.spacing(2),color:\"black\"}};});function NasaDetails(_ref){var onApodSelection=_ref.onApodSelection,isLoggedIn=_ref.isLoggedIn,setApodArray=_ref.setApodArray,apodArray=_ref.apodArray,apiKey=_ref.apiKey;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),apod=_useState2[0],setApod=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoaded=_useState4[0],setIsLoaded=_useState4[1];var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();function handleBack(){history.goBack();}useEffect(function(){fetch(\"https://api.nasa.gov/planetary/apod?api_key=\".concat(apiKey,\"&date=\").concat(id),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(r){return r.json();}).then(function(apod){console.log(apod);setApod(apod);setIsLoaded(true);}).catch(function(e){console.log(e);});},[id]);if(!isLoaded)return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"});var enlistClickHandler=function enlistClickHandler(e,hero){if(isLoggedIn){//add hero to the heroSelectionArray & make this herocard disappear from RecruitList\n//callback fn defined on App.js\nonApodSelection(hero);console.log(hero);setApodArray(apodArray.filter(function(individual){return individual.id!==hero.id;}));//push the page back to the home page \nhistory.push('/');}else{setAnchorEl(e.currentTarget);}};var handleClose=function handleClose(){setAnchorEl(null);};var open=Boolean(anchorEl);var modalId=open?'simple-popover':undefined;var apodImage=apod.url;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"recruitDetailsContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-left-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"detail-img\",src:apodImage}),/*#__PURE__*/_jsxs(\"div\",{className:\"btngroup\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"detail-btn\",onClick:handleBack,children:\" Go Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"detail-btn\",onClick:function onClick(e){enlistClickHandler(e,apod);},children:\" Select\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-right-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"detail-name\",children:[\" \",apod.date,\" | \",apod.title]}),/*#__PURE__*/_jsx(\"h3\",{className:\"detail-description\",children:\"Description:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",apod.explanation]})]})]}),/*#__PURE__*/_jsx(Popover,{id:modalId,open:open,anchorEl:anchorEl,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'},children:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:\"You must be signed in to add images to your favorites!\"})})]});}export default NasaDetails;","map":{"version":3,"sources":["/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/src/components/NasaDetails.js"],"names":["React","useEffect","useState","useHistory","useParams","makeStyles","Popover","Typography","useStyles","theme","typography","padding","spacing","color","NasaDetails","onApodSelection","isLoggedIn","setApodArray","apodArray","apiKey","apod","setApod","isLoaded","setIsLoaded","classes","anchorEl","setAnchorEl","id","history","handleBack","goBack","fetch","method","headers","then","r","json","console","log","catch","e","enlistClickHandler","hero","filter","individual","push","currentTarget","handleClose","open","Boolean","modalId","undefined","apodImage","url","date","title","explanation","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  typography: {\n    padding: theme.spacing(2),\n    color: \"black\"\n  },\n}));\n\nfunction NasaDetails({ onApodSelection, isLoggedIn, setApodArray, apodArray, apiKey }) {\n    const [apod, setApod] = useState(null)\n    const [isLoaded, setIsLoaded] = useState(false)\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const { id } = useParams()\n\n    const history = useHistory();\n    \n    function handleBack() {\n        history.goBack()\n    }\n\n    useEffect(() => {\n      fetch(`https://api.nasa.gov/planetary/apod?api_key=${apiKey}&date=${id}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n        .then((r) => r.json())\n        .then(apod => {\n          console.log(apod)\n          setApod(apod);\n          setIsLoaded(true);\n        \n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }, [id]);\n\n    if (!isLoaded) return <h2>Loading...</h2>;\n\n    const enlistClickHandler = (e, hero) => {\n      if(isLoggedIn) {\n      //add hero to the heroSelectionArray & make this herocard disappear from RecruitList\n      //callback fn defined on App.js\n      onApodSelection(hero)\n      console.log(hero)\n      setApodArray(apodArray.filter(individual => individual.id !== hero.id))\n      //push the page back to the home page \n      history.push('/')  \n      } else {\n        setAnchorEl(e.currentTarget)\n      }\n    }\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const modalId = open ? 'simple-popover' : undefined;\n\n    const apodImage = apod.url\n\n  return (\n    <>\n    <div className=\"recruitDetailsContainer\">\n\n      <div className=\"detail-left-container\">\n        <img className=\"detail-img\" src={apodImage}/>\n       \n        <div className=\"btngroup\">\n          <button className=\"detail-btn\" onClick={handleBack}> Go Back</button>\n          <button className=\"detail-btn\" onClick={(e)=>{enlistClickHandler(e, apod)}}> Select</button>\n        </div>\n      </div>\n\n      <div className=\"detail-right-container\">\n        <h2 className=\"detail-name\"> {apod.date} | {apod.title}</h2>\n        <h3 className=\"detail-description\">Description:</h3>\n        <p> {apod.explanation}</p>\n      </div>\n\n    </div>\n    <Popover\n        id={modalId}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Typography className={classes.typography}>You must be signed in to add images to your favorites!</Typography>\n      </Popover>\n    </>\n  );\n}\n\nexport default NasaDetails;"]},"metadata":{},"sourceType":"module"}