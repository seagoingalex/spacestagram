{"ast":null,"code":"import _slicedToArray from\"/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ProfileMemberList from\"./ProfileMemberList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(_ref){var currentProfile=_ref.currentProfile,isLoggedIn=_ref.isLoggedIn;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),profileArray=_useState2[0],setProfileArray=_useState2[1];var onDisselectBtnClickInTeamPage=function onDisselectBtnClickInTeamPage(disselectedHero){//Delete from database \nfetch(\"http://localhost:3001/teamMember/\".concat(disselectedHero.id),{method:'DELETE'}).catch(function(error){return console.error('Error:',error);});//Delete from teamArray\nsetProfileArray(profileArray.filter(function(teamMember){return teamMember.name!==disselectedHero.name;}));};useEffect(function(){fetch(\"http://localhost:3001/teamMember\").then(function(res){return res.json();}).then(function(data){return setProfileArray(data.filter(function(teamMember){return teamMember.userId===currentProfile;}));}).catch(function(error){return console.error('Error:',error);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"teamPage\",children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:currentProfile}),/*#__PURE__*/_jsx(ProfileMemberList,{apodArray:profileArray,onDisselectBtnClickInTeamPage:onDisselectBtnClickInTeamPage})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log in to your profile to see your favorite astronomy pics of the day!\"}),/*#__PURE__*/_jsx(\"br\",{})]})});}export default Profile;","map":{"version":3,"sources":["/Users/alexcalvert/Development/code/Shopify/front-end-application/spacestagram/src/components/Profile.js"],"names":["React","useEffect","useState","ProfileMemberList","Profile","currentProfile","isLoggedIn","profileArray","setProfileArray","onDisselectBtnClickInTeamPage","disselectedHero","fetch","id","method","catch","error","console","filter","teamMember","name","then","res","json","data","userId"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAAyBC,QAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,C,6IAEA,QAASC,CAAAA,OAAT,MAAiD,IAA9BC,CAAAA,cAA8B,MAA9BA,cAA8B,CAAdC,UAAc,MAAdA,UAAc,CAE/C,cAAwCJ,QAAQ,CAAC,EAAD,CAAhD,wCAAOK,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAACC,eAAD,CAAqB,CACzD;AACAC,KAAK,4CAAqCD,eAAe,CAACE,EAArD,EAA2D,CAC9DC,MAAM,CAAE,QADsD,CAA3D,CAAL,CAGGC,KAHH,CAGS,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,CAAwBA,KAAxB,CAAJ,EAHd,EAKA;AACAP,eAAe,CAACD,YAAY,CAACU,MAAb,CAAoB,SAAAC,UAAU,QAAGA,CAAAA,UAAU,CAACC,IAAX,GAAoBT,eAAe,CAACS,IAAvC,EAA9B,CAAD,CAAf,CACD,CATD,CAWAlB,SAAS,CAAC,UAAI,CACZU,KAAK,CAAC,kCAAD,CAAL,CACAS,IADA,CACK,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADR,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAIf,CAAAA,eAAe,CAACe,IAAI,CAACN,MAAL,CAAY,SAAAC,UAAU,QAAIA,CAAAA,UAAU,CAACM,MAAX,GAAsBnB,cAA1B,EAAtB,CAAD,CAAnB,EAFV,EAGCS,KAHD,CAGO,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,CAAwBA,KAAxB,CAAJ,EAHZ,EAID,CALQ,CAKP,EALO,CAAT,CAOA,mBACE,YAAK,SAAS,CAAC,UAAf,UACKT,UAAU,cACX,wCACA,oBAAKD,cAAL,EADA,cAEA,KAAC,iBAAD,EAAmB,SAAS,CAAEE,YAA9B,CACgB,6BAA6B,CAAEE,6BAD/C,EAFA,GADW,cAQX,wCACA,8FADA,cAEA,aAFA,GATJ,EADF,CAiBD,CAED,cAAeL,CAAAA,OAAf","sourcesContent":["import React,{ useEffect,useState } from \"react\";\nimport ProfileMemberList from \"./ProfileMemberList\";\n\nfunction Profile({ currentProfile, isLoggedIn }) {\n  \n  const [profileArray, setProfileArray] = useState([])\n\n  const onDisselectBtnClickInTeamPage = (disselectedHero) => {\n    //Delete from database \n    fetch(`http://localhost:3001/teamMember/${disselectedHero.id}`, {\n      method: 'DELETE',\n      })\n      .catch(error => console.error('Error:', error))\n    \n    //Delete from teamArray\n    setProfileArray(profileArray.filter(teamMember=> teamMember.name !== disselectedHero.name))\n  }\n\n  useEffect(()=>{\n    fetch(\"http://localhost:3001/teamMember\")\n\t  .then(res => res.json())\n    .then(data => setProfileArray(data.filter(teamMember => teamMember.userId === currentProfile)) )\n    .catch(error => console.error('Error:', error))\n  },[])\n\n  return (\n    <div className=\"teamPage\">\n        {isLoggedIn ?\n        <>\n        <h1>{currentProfile}</h1>\n        <ProfileMemberList apodArray={profileArray}\n                        onDisselectBtnClickInTeamPage={onDisselectBtnClickInTeamPage}\n                        />\n        </>\n        :\n        <>\n        <h1>Log in to your profile to see your favorite astronomy pics of the day!</h1>\n        <br></br>\n        </>\n        }\n    </div>\n  );\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}